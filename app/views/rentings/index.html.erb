<!-- Profile -->
<%= cl_image_tag current_user.photo.key, width: 140, height: 140, crop: :fill, class: "big-avatar-square" %>
<h4 class="text-center">
  <%= current_user.first_name.capitalize %>
  <%= current_user.last_name.capitalize %>
</h4>

<!-- <script>
  $(function () {
    $('#myTab li:last-child a').tab('show')
  })
</script> -->

<!-- Main Tabs (w/o JS file) -->

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item-big">
    <a class="nav-link active" id="submitted-tab" data-toggle="tab" href="#submitted" role="tab" aria-controls="submitted" aria-selected="true">
      Submitted
    </a>
  </li>
  <li class="nav-item-big">
    <a class="nav-link" id="incoming-tab" data-toggle="tab" href="#incoming" role="tab" aria-controls="incoming" aria-selected="false">
      Incoming
    </a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="submitted" role="tabpanel" aria-labelledby="submitted-tab">
  <!-- SUBMITTED -->

    <!-- Tabs w/ tabs.js -->
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="pending-tab" data-bs-toggle="tab" data-bs-target="#pending" type="button" role="tab" aria-controls="pending" aria-selected="true">
          Pending
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="accepted-tab" data-bs-toggle="tab" data-bs-target="#accepted" type="button" role="tab" aria-controls="accepted" aria-selected="false">
          Accepted
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="declined-tab" data-bs-toggle="tab" data-bs-target="#declined" type="button" role="tab" aria-controls="declined" aria-selected="false">
          Declined
        </button>
      </li>
    </ul>

    <!-- Tabs content -->
    <div class="tab-content" id="myTabContent">

      <div class="tab-pane fade show active" id="pending" role="tabpanel" aria-labelledby="pending-tab">
        <!-- Display Pending -->
        <% @rentings.order('created_at DESC').each do |renting| %>
          <% if renting.status == "Pending" %>
            <div class="card-renting">
              <!-- Vinyl info -->
              <div class="card-product">
                <!-- vinyl.photo -->
                <% if renting.vinyl.photo.attached? %>
                  <%= cl_image_tag renting.vinyl.photo.key, width: 120, height: 120, crop: :fill %>
                <% else %>
                  <%= image_tag "https://via.placeholder.com/120" %>
                <% end %>
                <!-- vinyl info -->
                <div class="card-product-infos">
                  <h2><%= renting.vinyl.title %></h2>
                  <p><%= renting.vinyl.artist %></p>
                </div>
              </div>
              <!-- Renting info -->
              <div class="card-renting-infos">
                <div>
                  <p>Owned by <%= renting.vinyl.owner.first_name %></p>
                  <h2>From <%= renting.start_date.month %>/<%= renting.start_date.day %> to <%= renting.end_date.month %>/<%= renting.end_date.day %></h2>
                </div>
                <h2 class="card-renting-pricing"><%= renting.total_price %>€</h2>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>

      <div class="tab-pane fade" id="accepted" role="tabpanel" aria-labelledby="accepted-tab">
        <!-- Display Accepted -->
        <% @rentings.order('created_at DESC').each do |renting| %>
          <% if renting.status == "Accepted" %>
            <div class="card-renting">
              <!-- Vinyl info -->
              <div class="card-product">
                <!-- vinyl.photo -->
                <% if renting.vinyl.photo.attached? %>
                  <%= cl_image_tag renting.vinyl.photo.key, width: 120, height: 120, crop: :fill %>
                <% else %>
                  <%= image_tag "https://via.placeholder.com/120" %>
                <% end %>
                <!-- vinyl info -->
                <div class="card-product-infos">
                  <h2><%= renting.vinyl.title %></h2>
                  <p><%= renting.vinyl.artist %></p>
                </div>
              </div>
              <!-- Renting info -->
              <div class="card-renting-infos">
                <div>
                  <p>Owned by <%= renting.vinyl.owner.first_name %></p>
                  <h2>From <%= renting.start_date.month %>/<%= renting.start_date.day %> to <%= renting.end_date.month %>/<%= renting.end_date.day %></h2>
                </div>
                <h2 class="card-renting-pricing"><%= renting.total_price %>€</h2>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>

      <div class="tab-pane fade" id="declined" role="tabpanel" aria-labelledby="declined-tab">
        <!-- Display Declined -->
        <% @rentings.order('created_at DESC').each do |renting| %>
          <% if renting.status == "Declined" %>
            <div class="card-renting">
              <!-- Vinyl info -->
              <div class="card-product">
                <!-- vinyl.photo -->
                <% if renting.vinyl.photo.attached? %>
                  <%= cl_image_tag renting.vinyl.photo.key, width: 120, height: 120, crop: :fill %>
                <% else %>
                  <%= image_tag "https://via.placeholder.com/120" %>
                <% end %>
                <!-- vinyl info -->
                <div class="card-product-infos">
                  <h2><%= renting.vinyl.title %></h2>
                  <p><%= renting.vinyl.artist %></p>
                </div>
              </div>
              <!-- Renting info -->
              <div class="card-renting-infos">
                <div>
                  <p>Owned by <%= renting.vinyl.owner.first_name %></p>
                  <h2>From <%= renting.start_date.month %>/<%= renting.start_date.day %> to <%= renting.end_date.month %>/<%= renting.end_date.day %></h2>
                </div>
                <h2 class="card-renting-pricing"><%= renting.total_price %>€</h2>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>
      <!-- ... -->
    </div>
  <!-- / SUBMITTED -->
  </div>

  <div class="tab-pane" id="incoming" role="tabpanel" aria-labelledby="incoming-tab">
  <!-- INCOMING -->

  <!-- Tabs w/ tabs.js (incoming) -->
  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="pending-tab" data-bs-toggle="tab" data-bs-target="#pending" type="button" role="tab" aria-controls="pending" aria-selected="true">
        Pending
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="accepted-tab" data-bs-toggle="tab" data-bs-target="#accepted" type="button" role="tab" aria-controls="accepted" aria-selected="false">
        Accepted
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="declined-tab" data-bs-toggle="tab" data-bs-target="#declined" type="button" role="tab" aria-controls="declined" aria-selected="false">
        Declined
      </button>
    </li>
  </ul>

  <!-- Tabs content (incoming) -->
  <div class="tab-content" id="myTabContent">

    <div class="tab-pane fade show active" id="pending" role="tabpanel" aria-labelledby="pending-tab">
      <!-- Display Pending -->
    </div>

    <div class="tab-pane fade" id="accepted" role="tabpanel" aria-labelledby="accepted-tab">
      <!-- Display Accepted -->
    </div>

    <div class="tab-pane fade" id="declined" role="tabpanel" aria-labelledby="declined-tab">
      <!-- Display Declined -->
    </div>
    <!-- ... -->
  </div>
  <!-- / INCOMING -->
  </div>
</div>
